language: python
python:
- 3.7
env:
  global:
  - MOLECULE_DEBUG: 'true'
  - ROLE_NAME: fits
  - EC2_REGION: us-east-1
  - secure: wdXURO+nUwBIWut4bIHhPN76SxlvYdOQJ7jbCTkwD5/cAK/pKhk6Mh9Yk43JNDmBHA0H30Yg2Ji2HPHJLuKIqkGlOaL5U9a6hBIgsQ2SVueVZANLi9SwYnUhSVwY4P3cIugIjTWbe1gEtmpDuqfPA1O6+u7KP2vha8i2irp7oPEF5XDULdP+M9zRn2KR8TP8n8FMGy7jabqcTaqnV7+38QbvwEhH9QcNMzY4C6P+naAtrHylh39vjyE5gMmYIEy/4X0jP6STv7iEeoTJxJO8a82uKGA0zlLG1etEGgf/r0iSeg4uabgB60HF4u0bVuUk2PXu5qZj2nJW8PFi5iM330hq8x4TC0qgi7CloV0wK8YfU5D7fJ28ev/EWkLJgnAJpEsrcCJdZFStwpLvTCTh/CcEYGsSDtBoO+PbX5ZEZaJjGNli2CzJ9LXa0MufMQzi1NCR8Jpb188sKUu/zySjTLv6NwURu7v29PE0EFMZ2TZEgaTfxbMpgWKPT2DmBw3BWBwqHzyEhGyCs8wcTGYuokpYBAHhYv0IR1fBhoVfOZVF5AAkRtQ64Cgzd55pB7qoCg+Ng7lw1dYaHlOxyA75+rBnrxtOYkREyfnDJ4HTCiay2Nf/qA2WdXgIgCnWWQ6mh//iv7/NoAVCBdv0wjoKVbrwey45ABPR9U+f2NNvuI8=
  - secure: ZQuZUKArGRUqNH2ajnItJ7QVP6kRwLQgw9SVRz2CJuJ3nOwcFXumN1EfjRY+JHTdJDpudodoNd+f06SEbL/Z+uerl/4w5IKbkIcdX4Cq2sqAtQfUvt+phln/dqA1y0cIYRAj87wNCpFRjFKbnfWjq+Sz7p2K6Ktf6L93V/lH/QkIfmjNJ2U+OS5yvVdd58Q7aMJ1sgu7nu4iq12h0I4ITSn41Ej5afjJKZNQlpRek0BsnxnaNPY6SSHt3DnXZ3vAKlC93dNTy2lgfPNjVsst9iVAxlE8DxviLk+4B5PZCNqH1z2ZVhr7wjX+CsY0dkmtwsdLnjs63tiNahrVlKY7Eqttu7Dm41VzHWdn3xDn8U+4gezazUzyjb4ZbTfYt13cDBXFCL/GTe88Lz7Vk7QlogwNyjQjNae3El2v8dyKKJ6yZC0EoJwHH9rbHM6o/KujxwBcAMtG3WUh8YPUxZOXvHoXI5AZwKOaKARsltMPnML7Zg7dvqdl9R8j0oHFdshrsi4KcGWPkO/671uLlrlypy87AiLDNIWd8FGU+EkE7z3rSThhUoUfw3GQw5bF+r16U9yP1wP3QaqKGR0s2F5jsd+w8k85MQ3L9cK0jdso5nsesscciNKvPSa6MyE6Op2B+xo9234B5pPzIjNgT2cGQSxoYqK6sX/s4PIP4jBESa0=
  - secure: LHoxILx3lfkZGDMlhKkEqxX6O/UarQ5HHdGHoVrLLDFy1MxL8aF3z9lG75DxVxi0pk9OCkR63s/QOYFsfIrP0t4x6aAQuyRl70zaVw027Cbhon6XOmLZ0FqoMWT0fC2TBT7AaSdp9JGmaVepV093kAsqfTwRMxufgukNGQca30lwvNkE2lNVTS63f7T1ZraLIS9GHFxYbcLe1Nct20xvyXwOgw8VghvtsDITzFXs73oJHPUmhlBszrYnf+qrO5a0aObCVLl1cztc8OFVqQS/Khz8nKOVjj3f0w0AtP50iDDVuQnPjShx7uzfJaBaOMlEDgkkbfZTWi0/k77y7kCerQHi/4CGQiBu76DCbRofe+t4hbl5GHej3w1S3hyZ0jAN3Y82EmCimqg4TEVUkW96kUnwRrHQrPwKdvs4gb9egkgd/8wFs8PS81U6ESD9mYJz7FIGH1KIXNJzk3Ps+LyVZIdFICHUh66eFB54QpPqACXL8CMoDBw2iCI6cz9FO2SQISb3C3mIS+e8qX6AtLwrnmuQWw27/cOakJNmQEtb+0dscEQXrmp9RUB5yabCwq+Hud9Xw8eO9MvSGM9uHsZCVIPxOhqUoWRy3G8+NSyX0D9bQjaFMuLYi6UUEFMWBz18B+SKCEHA4n0Kk2YU2zWC6YKJ1PkX7AaObY+9IlrZ3M8=
  - secure: wy9FPMjFzCKfs6CKijyjfiEHz8vauyIUwX4ocuPeQvfQjnNrAcUpotuYGBcQIiAq6tzLpcVIkX+J4QvOIzQJ7RC7kf1ItksVMvkLIBz0ry46ayQUd5/tKvnM6ZuF0zViuydAi29bcDWS0rpSUruuGX3OEB7eZX3BMb0rj4LPKSshy8pSTT7lemySY6pKgzyZG7TyciZUdn8Xz9g2WyTNOyyyjqueVSxqzLetKWBZSJudUeVgJZLr30kR71h9oLvzt01D+hqSHF5yfgwY55hHF4YYGuFllZ0Qm1/AkgY1fid3fAA1Pjg02IyvyCI7ltmEo2Wv4mzO0w73wKHt5z4TJCE1Pnrqmc4/+ZMF3WTUKKO9UqhQxxhLpM2gHsIoPXZ7gCeDCV0mZefLyevAeXHKLC0eLsCFECFzVxSAG/Q9ASf2POUEyg087scvB44OjV9l7xsZUhMUOPfFyvpe3JXyuFaYxmDQ+YjtngMGFZywBQJMdhNHyuIL+qEcIzgSTtE/9nvnyO0Skj4GPWvoBR40tbcoSawyymIZFoR79votWnfiWlBz2mk7tBYTRXL6vzrRPhdkKcR962S3Q/jdviKV4CvYVC+yokGO3hvLcblVv/l2LfQSAAhbqY7Ldy26S/YbqTGxSkJvgDPPDeQPQDAqitC3yTaVPtJktzjw8SBIliI=
install:
- pip install pipenv
- pipenv install
- aws configure set aws_access_key_id $AWS_ACCESS_KEY
- aws configure set aws_secret_access_key $AWS_SECRET_KEY
- aws configure set default.region $EC2_REGION
- aws configure list
script:
- molecule create --scenario-name aws
- molecule converge --scenario-name aws
- molecule verify --scenario-name aws
- molecule destroy --scenario-name aws
notifications:
  webhooks: https://galaxy.ansible.com/api/v1/notifications/
